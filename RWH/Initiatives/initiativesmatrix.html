<!DOCTYPE html>
<html lang="en-AU">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sustainability Evaluation Workshop</title>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&family=Sora:wght@700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --primary:#1B8F4B;
      --primary-dark:#136B38;
      --primary-light:#2CCB74;
      --secondary:#7CCB5C;
      --accent:#A3E635;

      --text-dark:#0f172a;
      --text-medium:#334155;
      --text-light:#64748b;

      --bg-primary:#ffffff;
      --bg-secondary:#f6fbf7;
      --bg-tertiary:#eaf6ee;

      --radius:16px;
      --radius-lg:22px;
      --shadow:0 10px 30px rgba(0,0,0,.15);
      --shadow-sm:0 6px 18px rgba(0,0,0,.12);
    }

    *{box-sizing:border-box;margin:0;padding:0}
    body{
      font-family:Inter,system-ui,sans-serif;
      color:var(--text-dark);
      background:#0f3d2a;
    }

    /* Subtle animated background */
    .presentation-wrapper{
      min-height:100vh;
      padding:1.5rem;
      display:flex;
      background:
        radial-gradient(circle at 15% 20%, rgba(44,203,116,.55), transparent 45%),
        radial-gradient(circle at 85% 80%, rgba(124,203,92,.45), transparent 45%),
        linear-gradient(135deg,#0f5132,#22c55e);
      background-size: 120% 120%, 120% 120%, 100% 100%;
      animation:bgMove 26s ease-in-out infinite alternate;
    }
    @keyframes bgMove{
      from{background-position:0% 0%,100% 100%,0% 0%}
      to{background-position:18% 28%,82% 72%,100% 100%}
    }

    .presentation-container{
      width:100%;
      max-width:1200px;
      margin:auto;
      background:var(--bg-primary);
      border-radius:24px;
      box-shadow:var(--shadow);
      overflow:hidden;
      display:flex;
      flex-direction:column;
      min-height:0;
      position:relative;
    }

    /* Viewport must constrain slides */
    .slide-viewport{
      flex:1;
      min-height:0;
      overflow:hidden;
    }

    /* Slides */
    .slide{
      display:none;
      height:100%;
      overflow:auto;
      padding:3rem;
      -webkit-overflow-scrolling:touch;
    }
    .slide.active{display:block;}
    /* Title slides need flex when active */
    .slide.title-slide.active{display:flex;}

    h1,h2{font-family:Sora}
    h1{font-size:clamp(2rem,5vw,3.2rem);line-height:1.08}
    h2{font-size:clamp(1.2rem,3vw,2rem)}
    p{color:var(--text-medium);font-weight:700}

    /* Timer chips */
    .timer-chip{
      width:max-content;
      margin:0 auto 1rem;
      display:inline-flex;
      align-items:center;
      gap:.6rem;
      padding:.55rem .9rem;
      border-radius:999px;
      font-weight:900;
      font-size:.9rem;
      color:#fff;
      background:rgba(255,255,255,.14);
      border:1px solid rgba(255,255,255,.22);
      backdrop-filter: blur(10px);
    }
    .timer-dot{
      width:10px;height:10px;border-radius:50%;
      background:#fff;
      opacity:.95;
      box-shadow:0 0 0 6px rgba(255,255,255,.13);
    }

    /* Title slide layout */
    .title-slide{
      color:#fff;
      text-align:center;
      flex-direction:column;
      justify-content:center;
      gap:1rem;
    }
    .title-slide p{color:rgba(255,255,255,.88)}

    /* Cards */
    .icon-grid{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
      gap:1.25rem;
      margin-top:1.5rem;
    }
    .icon-box{
      background:#fff;
      padding:1.5rem;
      border-radius:var(--radius);
      box-shadow:var(--shadow-sm);
      border:1px solid rgba(15,23,42,.06);
      text-align:center;
    }
    .icon{font-size:2.4rem;margin-bottom:.7rem}
    .icon-box h3{font-weight:900;font-size:1.08rem;margin-bottom:.35rem;color:var(--text-dark)}
    .icon-box p{margin:0;color:var(--text-medium);font-weight:700}

    /* Slide 2: ensure readability ONLY here (even though parent is white text) */
    .slide-2 .icon-box h3{color:var(--text-dark)}
    .slide-2 .icon-box p{color:var(--text-medium)}

    /* Matrix */
    .matrix-card{
      margin-top:1.25rem;
      background:linear-gradient(135deg, rgba(27,143,75,.10), rgba(124,203,92,.08));
      border:1px solid rgba(27,143,75,.14);
      border-radius:var(--radius-lg);
      padding:1.25rem;
      box-shadow:var(--shadow-sm);
    }
    .matrix-top{
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap:1rem;
      flex-wrap:wrap;
    }
    .help-link{
      background:rgba(27,143,75,.10);
      border:1px solid rgba(27,143,75,.18);
      color:var(--primary-dark);
      font-weight:900;
      padding:.55rem .85rem;
      border-radius:999px;
      cursor:pointer;
      min-height:44px;
    }

    .matrix-grid{
      margin-top:1rem;
      display:grid;
      grid-template-columns:90px 1fr 1fr;
      grid-template-rows:auto 1fr 1fr;
      gap:.8rem;
      min-height:340px;
    }
    .matrix-header{
      text-align:center;
      padding:.5rem;
      font-weight:900;
      font-size:.8rem;
      letter-spacing:.08em;
      text-transform:uppercase;
      color:var(--primary-dark);
      background:rgba(255,255,255,.55);
      border:1px solid rgba(15,23,42,.06);
      border-radius:12px;
    }
    .matrix-label{
      writing-mode:vertical-rl;
      transform:rotate(180deg);
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:900;
      font-size:.72rem;
      letter-spacing:.08em;
      text-transform:uppercase;
      color:var(--text-light);
    }

    .matrix-cell{
      border-radius:16px;
      padding:1.15rem 1rem;
      cursor:pointer;
      border:1px solid rgba(15,23,42,.08);
      box-shadow:0 10px 20px rgba(0,0,0,.10);
      transition:transform .18s ease, box-shadow .18s ease;
      display:flex;
      flex-direction:column;
      justify-content:center;
      gap:.35rem;
      user-select:none;
      outline:none;
    }
    .matrix-cell:hover{transform:translateY(-4px);box-shadow:0 14px 28px rgba(0,0,0,.14)}
    .matrix-cell:focus-visible{box-shadow:0 0 0 4px rgba(27,143,75,.35), 0 14px 28px rgba(0,0,0,.14)}

    .matrix-cell .emoji{font-size:2rem}
    .matrix-cell .title{font-weight:900;font-size:1.05rem}
    .matrix-cell .desc{font-weight:800;font-size:.9rem;line-height:1.35;opacity:.95}

    .qw{background:linear-gradient(135deg,#16a34a,#4ade80);color:#fff}
    .mp{background:linear-gradient(135deg,#84cc16,#bef264);color:#1f2937}
    .fi{background:linear-gradient(135deg,#22c55e,#86efac);color:#064e3b}
    .rc{background:linear-gradient(135deg,#e5e7eb,#f3f4f6);color:#111827}

    .badge{
      width:max-content;
      margin-top:.35rem;
      padding:.3rem .6rem;
      border-radius:999px;
      font-size:.78rem;
      font-weight:900;
      background:rgba(255,255,255,.22);
      border:1px solid rgba(255,255,255,.28);
    }
    .mp .badge,.fi .badge,.rc .badge{
      background:rgba(255,255,255,.55);
      border-color:rgba(15,23,42,.08);
    }

    /* Footer nav */
    .nav-footer{
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:1rem 1.5rem;
      border-top:1px solid rgba(0,0,0,.1);
      background:rgba(255,255,255,.96);
      gap:1rem;
    }
    button{
      background:var(--primary);
      color:#fff;
      border:none;
      border-radius:999px;
      padding:.7rem 1.4rem;
      font-weight:900;
      cursor:pointer;
      min-height:44px;
    }
    button:disabled{opacity:.4;cursor:not-allowed}

    .progress{
      flex:1;
      min-width:140px;
    }
    .progress-bar{
      height:6px;
      background:var(--bg-tertiary);
      border-radius:999px;
      overflow:hidden;
    }
    .progress-inner{
      height:100%;
      width:0%;
      background:linear-gradient(90deg,var(--primary),var(--secondary));
      transition:.4s;
    }
    .counter{
      margin-top:.45rem;
      text-align:center;
      color:var(--text-light);
      font-weight:900;
      font-size:.85rem;
    }

    /* Modal */
    .modal-overlay{
      position:fixed;
      inset:0;
      display:none;
      align-items:center;
      justify-content:center;
      padding:1.2rem;
      background:rgba(0,0,0,.45);
      z-index:9999;
    }
    .modal-overlay.show{display:flex}
    .modal{
      width:min(760px,100%);
      background:#fff;
      border-radius:22px;
      box-shadow:0 30px 90px rgba(0,0,0,.35);
      overflow:hidden;
      border:1px solid rgba(15,23,42,.08);
    }
    .modal-header{
      padding:1rem 1.2rem;
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap:1rem;
      background:linear-gradient(135deg, rgba(27,143,75,.12), rgba(124,203,92,.10));
      border-bottom:1px solid rgba(15,23,42,.06);
    }
    .modal-header h3{
      font-family:Sora;
      font-size:1.1rem;
      margin:0;
      color:var(--text-dark);
    }
    .modal-body{
      padding:1.1rem 1.2rem 1.2rem;
      color:var(--text-medium);
      font-weight:800;
    }
    .modal-body ul{margin:.75rem 0 0 1.1rem;line-height:1.7}
    .modal-actions{
      padding:1rem 1.2rem;
      border-top:1px solid rgba(15,23,42,.06);
      display:flex;
      justify-content:flex-end;
      gap:.75rem;
    }
    .btn-outline{
      background:#fff;
      color:var(--primary-dark);
      border:1px solid rgba(27,143,75,.25);
    }

    @media(max-width:900px){
      .matrix-grid{grid-template-columns:70px 1fr 1fr;min-height:320px;}
    }
    @media(max-width:768px){
      .presentation-wrapper{padding:0}
      .presentation-container{border-radius:0;min-height:100dvh}
      .slide{padding:2rem 1.25rem}
      .matrix-top{flex-direction:column;align-items:flex-start}
      .help-link{width:100%;text-align:center}
    }

    @media (prefers-reduced-motion: reduce){
      .presentation-wrapper{animation:none}
      .matrix-cell{transition:none}
      .progress-inner{transition:none}
    }
  </style>
</head>

<body>
  <div class="presentation-wrapper">
    <div class="presentation-container">

      <div class="slide-viewport">

        <!-- SLIDE 1 -->
        <section class="slide title-slide active" data-slide="1" style="background:linear-gradient(135deg,#136B38,#2CCB74)">
          <div class="timer-chip"><span class="timer-dot"></span> 15 minutes total</div>
          <h1>Sustainability Evaluation Workshop</h1>
          <h2>Making Smart Choices for RWH‚Äôs Future</h2>
          <p>Royal Women‚Äôs Hospital Melbourne</p>
          <p style="opacity:.92">15-minute interactive session</p>
        </section>

        <!-- SLIDE 2 -->
        <section class="slide title-slide slide-2" data-slide="2" style="background:linear-gradient(135deg,#136B38,#2CCB74)">
          <div class="timer-chip"><span class="timer-dot"></span> 1 minute</div>
          <h1>What success looks like today</h1>
          <p>By the end, you‚Äôll be able to:</p>

          <div class="icon-grid">
            <div class="icon-box">
              <div class="icon">üßÆ</div>
              <h3>Score any idea</h3>
              <p>Use the 4 questions consistently.</p>
            </div>
            <div class="icon-box">
              <div class="icon">üß≠</div>
              <h3>Place it on the matrix</h3>
              <p>Quick Win, Major Project, Fill-In, or Reconsider.</p>
            </div>
            <div class="icon-box">
              <div class="icon">üó£Ô∏è</div>
              <h3>Explain your recommendation</h3>
              <p>Share the ‚Äúwhy‚Äù in 30 seconds.</p>
            </div>
          </div>
        </section>

        <!-- SLIDE 3 -->
        <section class="slide" data-slide="3">
          <div style="display:flex;align-items:flex-start;justify-content:space-between;gap:1rem;flex-wrap:wrap;">
            <div>
              <h1>The Evaluation Matrix</h1>
              <p style="margin-top:.6rem;">Tap a quadrant to see what it means and what to do next.</p>
            </div>
            <div class="timer-chip" style="margin:0;background:rgba(27,143,75,.10);color:var(--primary-dark);border-color:rgba(27,143,75,.18)">
              <span class="timer-dot" style="background:var(--primary)"></span> 2 minutes
            </div>
          </div>

          <div class="matrix-card">
            <div class="matrix-top">
              <h2 style="margin:0;color:var(--text-dark)">Where should we focus?</h2>
              <button class="help-link" type="button" onclick="openModal('howToUse')">How to use this</button>
            </div>

            <div class="matrix-grid" role="group" aria-label="Evaluation matrix">
              <div></div>
              <div class="matrix-header">Short Time</div>
              <div class="matrix-header">Long Time</div>

              <div class="matrix-label">High Impact</div>
              <div class="matrix-cell qw" tabindex="0" role="button" aria-label="Quick Wins" data-modal="quickWins">
                <div class="emoji">‚≠ê</div>
                <div class="title">QUICK WINS</div>
                <div class="desc">High impact + fast to implement</div>
                <div class="badge">Start here</div>
              </div>
              <div class="matrix-cell mp" tabindex="0" role="button" aria-label="Major Projects" data-modal="majorProjects">
                <div class="emoji">üéØ</div>
                <div class="title">MAJOR PROJECTS</div>
                <div class="desc">Big impact + needs planning</div>
                <div class="badge">Roadmap</div>
              </div>

              <div class="matrix-label">Low Impact</div>
              <div class="matrix-cell fi" tabindex="0" role="button" aria-label="Fill-Ins" data-modal="fillIns">
                <div class="emoji">‚úì</div>
                <div class="title">FILL-INS</div>
                <div class="desc">Easy improvements + smaller gains</div>
                <div class="badge">Bundle</div>
              </div>
              <div class="matrix-cell rc" tabindex="0" role="button" aria-label="Reconsider" data-modal="reconsider">
                <div class="emoji">‚ùì</div>
                <div class="title">RECONSIDER</div>
                <div class="desc">Low value for time/cost/effort</div>
                <div class="badge">Park</div>
              </div>
            </div>

            <p style="margin-top:1rem;color:var(--text-light);font-weight:900;">
              Tip: Cost & effort still matter ‚Äî they help you prioritise within each quadrant.
            </p>
          </div>
        </section>

        <!-- SLIDE 4 -->
        <section class="slide" data-slide="4">
          <div style="display:flex;align-items:flex-start;justify-content:space-between;gap:1rem;flex-wrap:wrap;">
            <div>
              <h1>Decision Rules</h1>
              <p style="margin-top:.6rem;">Turn scores into action: Do / Pilot / Defer / Stop.</p>
            </div>
            <div class="timer-chip" style="margin:0;background:rgba(27,143,75,.10);color:var(--primary-dark);border-color:rgba(27,143,75,.18)">
              <span class="timer-dot" style="background:var(--primary)"></span> 1 minute
            </div>
          </div>

          <div class="icon-grid" style="margin-top:1.25rem;">
            <div class="icon-box" style="text-align:left">
              <div class="icon">‚≠ê</div>
              <h3>Quick Wins</h3>
              <p><strong>Do now:</strong> pilot in 30‚Äì60 days, track one metric.</p>
              <p style="margin-top:.8rem;"><button class="btn-outline" type="button" onclick="openModal('quickWins')">See details</button></p>
            </div>

            <div class="icon-box" style="text-align:left">
              <div class="icon">üéØ</div>
              <h3>Major Projects</h3>
              <p><strong>Plan:</strong> scope + stakeholders + business case.</p>
              <p style="margin-top:.8rem;"><button class="btn-outline" type="button" onclick="openModal('majorProjects')">See details</button></p>
            </div>

            <div class="icon-box" style="text-align:left">
              <div class="icon">‚úì</div>
              <h3>Fill-Ins</h3>
              <p><strong>Bundle:</strong> implement during upgrades and maintenance.</p>
              <p style="margin-top:.8rem;"><button class="btn-outline" type="button" onclick="openModal('fillIns')">See details</button></p>
            </div>

            <div class="icon-box" style="text-align:left">
              <div class="icon">‚ùì</div>
              <h3>Reconsider</h3>
              <p><strong>Park:</strong> revisit only if assumptions change.</p>
              <p style="margin-top:.8rem;"><button class="btn-outline" type="button" onclick="openModal('reconsider')">See details</button></p>
            </div>
          </div>
        </section>

        <!-- SLIDE 5 -->
        <section class="slide" data-slide="5">
          <div style="display:flex;align-items:flex-start;justify-content:space-between;gap:1rem;flex-wrap:wrap;">
            <div>
              <h1>Worksheet</h1>
              <p style="margin-top:.6rem;">Use this template for any initiative.</p>
            </div>
            <div class="timer-chip" style="margin:0;background:rgba(27,143,75,.10);color:var(--primary-dark);border-color:rgba(27,143,75,.18)">
              <span class="timer-dot" style="background:var(--primary)"></span> 8 minutes activity
            </div>
          </div>

          <div class="icon-box" style="text-align:left;margin-top:1.25rem;">
            <h3 style="margin-bottom:.6rem;">Template</h3>
            <ul style="margin-left:1.1rem;line-height:1.8;color:var(--text-medium);font-weight:800;">
              <li><strong>Initiative:</strong> what is changing, where, who is affected?</li>
              <li><strong>Scores:</strong> Time / Cost / Effort / Impact (+ notes)</li>
              <li><strong>Other factors:</strong> safety, compliance, disruption, stakeholders</li>
              <li><strong>Assumptions:</strong> what would change the score?</li>
              <li><strong>Recommendation:</strong> Do / Pilot / Defer / Stop</li>
            </ul>
          </div>

          <p style="margin-top:1rem;color:var(--text-light);font-weight:900;">
            If groups disagree, write the assumption causing the difference ‚Äî that‚Äôs the key output.
          </p>
        </section>

        <!-- SLIDE 6 -->
        <section class="slide" data-slide="6">
          <div style="display:flex;align-items:flex-start;justify-content:space-between;gap:1rem;flex-wrap:wrap;">
            <div>
              <h1>Next Steps</h1>
              <p style="margin-top:.6rem;">Turn the shortlist into pilots with owners and a review date.</p>
            </div>
            <div class="timer-chip" style="margin:0;background:rgba(27,143,75,.10);color:var(--primary-dark);border-color:rgba(27,143,75,.18)">
              <span class="timer-dot" style="background:var(--primary)"></span> 2 minutes
            </div>
          </div>

          <div class="icon-grid" style="margin-top:1.25rem;">
            <div class="icon-box" style="text-align:left">
              <h3>Top 3 quick wins</h3>
              <p>Choose 3 feasible, high-value items.</p>
            </div>
            <div class="icon-box" style="text-align:left">
              <h3>Assign owners</h3>
              <p>Who runs the pilot and coordinates stakeholders?</p>
            </div>
            <div class="icon-box" style="text-align:left">
              <h3>Set a review date</h3>
              <p>Decide whether to scale after learning.</p>
            </div>
          </div>
        </section>

      </div><!-- /slide-viewport -->

      <!-- FOOTER -->
      <div class="nav-footer">
        <button id="prev" type="button">Previous</button>

        <div class="progress" aria-label="Slide progress">
          <div class="progress-bar"><div class="progress-inner" id="bar"></div></div>
          <div class="counter" id="counter">1 / 6</div>
        </div>

        <button id="next" type="button">Next</button>
      </div>

    </div>
  </div>

  <!-- MODAL -->
  <div class="modal-overlay" id="modalOverlay" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <div class="modal" role="document">
      <div class="modal-header">
        <h3 id="modalTitle">Title</h3>
        <button class="btn-outline" id="modalCloseTop" type="button" onclick="closeModal()">Close</button>
      </div>
      <div class="modal-body" id="modalBody"></div>
      <div class="modal-actions">
        <button class="btn-outline" type="button" onclick="closeModal()">Close</button>
        <button type="button" onclick="closeModal()">Done</button>
      </div>
    </div>
  </div>

  <script>
    /* =========================
       SLIDES (strong hide/show)
    ========================= */
    let current = 1;
    const total = 6;
    const slides = Array.from(document.querySelectorAll(".slide"));
    const bar = document.getElementById("bar");
    const counter = document.getElementById("counter");

    function updateSlides(){
      slides.forEach((s, idx) => {
        const isActive = (idx === current - 1);
        s.classList.toggle("active", isActive);

        // Force hide/show to avoid any CSS edge cases
        s.style.display = isActive ? "" : "none";
        s.setAttribute("aria-hidden", isActive ? "false" : "true");

        // Reset scroll on slide change
        if (isActive) s.scrollTop = 0;
      });

      bar.style.width = (current / total * 100) + "%";
      counter.textContent = `${current} / ${total}`;

      document.getElementById("prev").disabled = current === 1;
      document.getElementById("next").disabled = current === total;
    }

    document.getElementById("next").addEventListener("click", () => {
      if (current < total){ current++; updateSlides(); }
    });
    document.getElementById("prev").addEventListener("click", () => {
      if (current > 1){ current--; updateSlides(); }
    });

    /* Keyboard nav */
    document.addEventListener("keydown", (e) => {
      const modalOpen = document.getElementById("modalOverlay").classList.contains("show");
      if (modalOpen) {
        if (e.key === "Escape") closeModal();
        return;
      }
      if (e.key === "ArrowRight" || e.key === " ") {
        e.preventDefault();
        if (current < total){ current++; updateSlides(); }
      }
      if (e.key === "ArrowLeft") {
        e.preventDefault();
        if (current > 1){ current--; updateSlides(); }
      }
    });

    /* =========================
       MODAL CONTENT + MATRIX
    ========================= */
    const modalOverlay = document.getElementById("modalOverlay");
    const modalTitle = document.getElementById("modalTitle");
    const modalBody  = document.getElementById("modalBody");
    let lastFocusEl = null;

    const modalContent = {
      howToUse: {
        title: "How to use the matrix",
        body: `
          <p>This is a quick way to turn scoring into a sensible priority.</p>
          <ul>
            <li><strong>Impact vs Time</strong> shows where to focus first.</li>
            <li><strong>Cost + Effort</strong> help you rank options within a quadrant.</li>
            <li>If groups disagree, write the <strong>assumption</strong> causing the difference.</li>
          </ul>
          <p style="margin-top:.75rem;"><strong>Tip:</strong> Start with Quick Wins to build momentum, then plan Major Projects.</p>
        `
      },
      quickWins: {
        title: "‚≠ê Quick Wins",
        body: `
          <p><strong>Meaning:</strong> High impact and fast to implement.</p>
          <ul>
            <li>Pick an owner and a small pilot (30‚Äì60 days).</li>
            <li>Track one metric (kWh, waste kg, purchasing change, staff time).</li>
            <li>Scale after proving feasibility.</li>
          </ul>
        `
      },
      majorProjects: {
        title: "üéØ Major Projects",
        body: `
          <p><strong>Meaning:</strong> Big emissions reduction but needs planning/investment.</p>
          <ul>
            <li>Define scope and stakeholders (Facilities, IT, Procurement, Clinical leads).</li>
            <li>Create a short business case (cost, timeline, disruption, benefits).</li>
            <li>Add to the roadmap and stage delivery (pilot ‚Üí rollout).</li>
          </ul>
        `
      },
      fillIns: {
        title: "‚úì Fill-Ins",
        body: `
          <p><strong>Meaning:</strong> Smaller gains, easy to do.</p>
          <ul>
            <li>Bundle into a ‚Äúsmall improvements‚Äù program.</li>
            <li>Implement during routine upgrades or maintenance windows.</li>
            <li>Prioritise those with extra benefits (workflow, safety, cost savings).</li>
          </ul>
        `
      },
      reconsider: {
        title: "‚ùì Reconsider",
        body: `
          <p><strong>Meaning:</strong> Low value relative to time/cost/effort.</p>
          <ul>
            <li>Park it unless compliance requires it.</li>
            <li>List what evidence would change the score.</li>
            <li>Revisit only if constraints change (funding, tech, supplier, policy).</li>
          </ul>
        `
      }
    };

    function openModal(key){
      const data = modalContent[key];
      if (!data) return;

      lastFocusEl = document.activeElement;
      modalTitle.textContent = data.title;
      modalBody.innerHTML = data.body;

      modalOverlay.classList.add("show");
      setTimeout(() => document.getElementById("modalCloseTop").focus(), 0);
    }

    function closeModal(){
      modalOverlay.classList.remove("show");
      if (lastFocusEl && typeof lastFocusEl.focus === "function") lastFocusEl.focus();
    }

    modalOverlay.addEventListener("click", (e) => {
      if (e.target === modalOverlay) closeModal();
    });

    document.querySelectorAll(".matrix-cell").forEach(cell => {
      cell.addEventListener("click", () => openModal(cell.dataset.modal));
      cell.addEventListener("keydown", (e) => {
        if (e.key === "Enter" || e.key === " ") {
          e.preventDefault();
          openModal(cell.dataset.modal);
        }
      });
    });

    /* Init */
    updateSlides();
  </script>
</body>
</html>
