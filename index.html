<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scaler Data Table</title>
    
    <!-- Flatpickr CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    
    <!-- Your custom CSS -->
    <link rel="stylesheet" href="style.css">
    
    <!-- Flatpickr JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    
    <!-- XLSX library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.17.0/xlsx.full.min.js"></script>
    
    <!-- Your custom JavaScript -->
    <script src="script.js" defer></script>
</head>
<body>
    <header>
        <img src="https://i.imgur.com/iB983sa.png" alt="Shrunk Logo" class="logo">
    </header>
    <div class="controls">
        <div class="date-picker-container">
            <input type="text" id="dateRangePicker" placeholder="Select Date or Date Range">
        </div>
        
        <div class="site-selector-container">
            <select id="siteSelector">
                <option value="">Select a site</option>
                <option value="All Sites">All Sites</option>
                <option value="Box Hill">Box Hill</option>
                <option value="Wantirna">Wantirna</option>
                <option value="Burwood">Burwood</option>
                <option value="Angliss">Ferntree Gully</option>
                <option value="Maroonda">Maroondah</option>
                <option value="Murenda">Murenda</option>
            </select>
            <button id="fetchData">Fetch Data</button>
            <input type="text" id="search" placeholder="Search...">
            <button id="copyButton">Copy</button>
            <button id="csvButton">Excel</button>
            <button id="clearData">Clear</button>
        </div>
    </div>
    <div class="table-info">
        <div id="recordCount"></div>
        <div class="entries-container">
            <label for="entriesPerPage">Show Entries:</label>
            <select id="entriesPerPage">
                <option value="All" selected>Show All</option>
                <option value="10">10</option>
                <option value="25">25</option>
                <option value="50">50</option>
                <option value="100">100</option>
            </select>
        </div>
        <div class="date-sort-container">
            <label for="dateSortFilter">Date Order:</label>
            <select id="dateSortFilter">
                <option value="newest">Newest to Oldest</option>
                <option value="oldest">Oldest to Newest</option>
            </select>
        </div>
    </div>
    <div id="spinner" class="spinner">Loading...</div>
    <div class="table-container">
        <table id="dataTable">
            <thead>
                <tr>
                    <th><input type="checkbox" id="selectAll"></th>
                    <th>Site</th>
                    <th>Date</th>
                    <th>Time</th>
                    <th>Weight (Gross)</th>
                    <th>Weight (Net)</th>
                    <th>
                        Bin Size
                        <button class="filter-icon" id="binSizeFilterToggle" aria-label="Filter Bin Size">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18">
                                <path d="M3 4.5A1.5 1.5 0 014.5 3h15A1.5 1.5 0 0121 4.5v2.25a1.5 1.5 0 01-.44 1.06l-6.14 6.14a1.5 1.5 0 00-.44 1.06V20a1 1 0 01-1.74.67l-2.5-3A1 1 0 019.5 17v-4.75a1.5 1.5 0 00-.44-1.06L2.92 7.81A1.5 1.5 0 012.5 6.75V4.5z"/>
                            </svg>
                        </button>
                        <div class="filter-dropdown" id="binSizeFilterDropdown"></div>
                    </th>
                    <th>
                        Bin Type
                        <button class="filter-icon" id="binTypeFilterToggle" aria-label="Filter Bin Type">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18">
                                <path d="M3 4.5A1.5 1.5 0 014.5 3h15A1.5 1.5 0 0121 4.5v2.25a1.5 1.5 0 01-.44 1.06l-6.14 6.14a1.5 1.5 0 00-.44 1.06V20a1 1 0 01-1.74.67l-2.5-3A1 1 0 019.5 17v-4.75a1.5 1.5 0 00-.44-1.06L2.92 7.81A1.5 1.5 0 012.5 6.75V4.5z"/>
                            </svg>
                        </button>
                        <div class="filter-dropdown" id="binTypeFilterDropdown"></div>
                    </th>
                    <th>Clinical Barcode Scan</th>
                    <th>Location</th>
                    <th>Estimated $</th>
                    <th>Emissions COâ‚‚-e/kg</th>
                </tr>
            </thead>
            <tbody>
                <!-- Table body will be populated by JavaScript -->
            </tbody>
            <tfoot>
                <tr id="totalRow"></tr>
            </tfoot>
        </table>
    </div>
    <div id="pagination" class="pagination"></div>
    <footer>
        2024 | Wasted by Shrunk | All Rights Reserved
    </footer>
    <!-- Hidden input fields to store the start and end dates -->
    <input type="hidden" id="startDate">
    <input type="hidden" id="endDate">
</body>
</html>
